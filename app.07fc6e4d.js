!function t(e,i,n){function s(o,h){if(!i[o]){if(!e[o]){var u="function"==typeof require&&require;if(!h&&u)return u(o,!0);if(r)return r(o,!0);var a=new Error("Cannot find module '"+o+"'");throw a.code="MODULE_NOT_FOUND",a}var l=i[o]={exports:{}};e[o][0].call(l.exports,function(t){var i=e[o][1][t];return s(i?i:t)},l,l.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){(function(){var i,n,s,r,o=function(t,e){return function(){return t.apply(e,arguments)}},h=[].slice,u={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var n in e)u.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};i={options:["prefix","templateDelimiters","rootInterface","preloadData","handler"],extensions:["binders","formatters","components","adapters"],"public":{binders:{},components:{},formatters:{},adapters:{},prefix:"rv",templateDelimiters:["{","}"],rootInterface:".",preloadData:!0,handler:function(t,e,i){return this.call(t,e,i.view.models)},configure:function(t){var e,n,s,r;null==t&&(t={});for(s in t)if(r=t[s],"binders"===s||"components"===s||"formatters"===s||"adapters"===s)for(n in r)e=r[n],i[s][n]=e;else i["public"][s]=r},bind:function(t,e,n){var s;return null==e&&(e={}),null==n&&(n={}),s=new i.View(t,e,n),s.bind(),s},init:function(t,e,n){var s,r;return null==n&&(n={}),null==e&&(e=document.createElement("div")),t=i["public"].components[t],e.innerHTML=t.template.call(this,e),s=t.initialize.call(this,e,n),r=new i.View(e,s),r.bind(),r}}},window.jQuery||window.$?(r="on"in jQuery.prototype?["on","off"]:["bind","unbind"],n=r[0],s=r[1],i.Util={bindEvent:function(t,e,i){return jQuery(t)[n](e,i)},unbindEvent:function(t,e,i){return jQuery(t)[s](e,i)},getInputValue:function(t){var e;return e=jQuery(t),"checkbox"===e.attr("type")?e.is(":checked"):e.val()}}):i.Util={bindEvent:function(){return"addEventListener"in window?function(t,e,i){return t.addEventListener(e,i,!1)}:function(t,e,i){return t.attachEvent("on"+e,i)}}(),unbindEvent:function(){return"removeEventListener"in window?function(t,e,i){return t.removeEventListener(e,i,!1)}:function(t,e,i){return t.detachEvent("on"+e,i)}}(),getInputValue:function(t){var e,i,n,s;if("checkbox"===t.type)return t.checked;if("select-multiple"===t.type){for(s=[],i=0,n=t.length;n>i;i++)e=t[i],e.selected&&s.push(e.value);return s}return t.value}},i.TypeParser=function(){function t(){}return t.types={primitive:0,keypath:1},t.parse=function(t){return/^'.*'$|^".*"$/.test(t)?{type:this.types.primitive,value:t.slice(1,-1)}:"true"===t?{type:this.types.primitive,value:!0}:"false"===t?{type:this.types.primitive,value:!1}:"null"===t?{type:this.types.primitive,value:null}:"undefined"===t?{type:this.types.primitive,value:void 0}:isNaN(Number(t))===!1?{type:this.types.primitive,value:Number(t)}:{type:this.types.keypath,value:t}},t}(),i.TextTemplateParser=function(){function t(){}return t.types={text:0,binding:1},t.parse=function(t,e){var i,n,s,r,o,h,u;for(h=[],r=t.length,i=0,n=0;r>n;){if(i=t.indexOf(e[0],n),0>i){h.push({type:this.types.text,value:t.slice(n)});break}if(i>0&&i>n&&h.push({type:this.types.text,value:t.slice(n,i)}),n=i+e[0].length,i=t.indexOf(e[1],n),0>i){o=t.slice(n-e[1].length),s=h[h.length-1],(null!=s?s.type:void 0)===this.types.text?s.value+=o:h.push({type:this.types.text,value:o});break}u=t.slice(n,i).trim(),h.push({type:this.types.binding,value:u}),n=i+e[1].length}return h},t}(),i.View=function(){function t(t,e,n){var s,r,h,u,a,l,p,c,d,f,b,v,g;for(this.els=t,this.models=e,null==n&&(n={}),this.update=o(this.update,this),this.publish=o(this.publish,this),this.sync=o(this.sync,this),this.unbind=o(this.unbind,this),this.bind=o(this.bind,this),this.select=o(this.select,this),this.traverse=o(this.traverse,this),this.build=o(this.build,this),this.buildBinding=o(this.buildBinding,this),this.bindingRegExp=o(this.bindingRegExp,this),this.options=o(this.options,this),this.els.jquery||this.els instanceof Array||(this.els=[this.els]),d=i.extensions,a=0,p=d.length;p>a;a++){if(r=d[a],this[r]={},n[r]){f=n[r];for(s in f)h=f[s],this[r][s]=h}b=i["public"][r];for(s in b)h=b[s],null==(u=this[r])[s]&&(u[s]=h)}for(v=i.options,l=0,c=v.length;c>l;l++)r=v[l],this[r]=null!=(g=n[r])?g:i["public"][r];this.build()}return t.prototype.options=function(){var t,e,n,s,r;for(e={},r=i.extensions.concat(i.options),n=0,s=r.length;s>n;n++)t=r[n],e[t]=this[t];return e},t.prototype.bindingRegExp=function(){return new RegExp("^"+this.prefix+"-")},t.prototype.buildBinding=function(t,e,n,s){var r,o,h,u,a,l,p;return a={},p=function(){var t,e,i,n;for(i=s.split("|"),n=[],t=0,e=i.length;e>t;t++)l=i[t],n.push(l.trim());return n}(),r=function(){var t,e,i,n;for(i=p.shift().split("<"),n=[],t=0,e=i.length;e>t;t++)o=i[t],n.push(o.trim());return n}(),u=r.shift(),a.formatters=p,(h=r.shift())&&(a.dependencies=h.split(/\s+/)),this.bindings.push(new i[t](this,e,n,u,a))},t.prototype.build=function(){var t,e,n,s,r;for(this.bindings=[],e=function(t){return function(n){var s,r,o,h,u,a,l,p,c,d,f,b,v,g;if(3===n.nodeType){if(u=i.TextTemplateParser,(o=t.templateDelimiters)&&(p=u.parse(n.data,o)).length&&(1!==p.length||p[0].type!==u.types.text)){for(c=0,f=p.length;f>c;c++)l=p[c],a=document.createTextNode(l.value),n.parentNode.insertBefore(a,n),1===l.type&&t.buildBinding("TextBinding",a,null,l.value);n.parentNode.removeChild(n)}}else 1===n.nodeType&&(s=t.traverse(n));if(!s){for(v=function(){var t,e,i,s;for(i=n.childNodes,s=[],t=0,e=i.length;e>t;t++)h=i[t],s.push(h);return s}(),g=[],d=0,b=v.length;b>d;d++)r=v[d],g.push(e(r));return g}}}(this),r=this.els,n=0,s=r.length;s>n;n++)t=r[n],e(t);this.bindings.sort(function(t,e){var i,n;return((null!=(i=e.binder)?i.priority:void 0)||0)-((null!=(n=t.binder)?n.priority:void 0)||0)})},t.prototype.traverse=function(t){var e,n,s,r,o,h,u,a,l,p,c,d,f,b,v,g;for(r=this.bindingRegExp(),o="SCRIPT"===t.nodeName||"STYLE"===t.nodeName,b=t.attributes,p=0,d=b.length;d>p;p++)if(e=b[p],r.test(e.name)){if(a=e.name.replace(r,""),!(s=this.binders[a])){v=this.binders;for(h in v)l=v[h],"*"!==h&&-1!==h.indexOf("*")&&(u=new RegExp("^"+h.replace(/\*/g,".+")+"$"),u.test(a)&&(s=l))}s||(s=this.binders["*"]),s.block&&(o=!0,n=[e])}for(g=n||t.attributes,c=0,f=g.length;f>c;c++)e=g[c],r.test(e.name)&&(a=e.name.replace(r,""),this.buildBinding("Binding",t,a,e.value));return o||(a=t.nodeName.toLowerCase(),this.components[a]&&!t._bound&&(this.bindings.push(new i.ComponentBinding(this,t,a)),o=!0)),o},t.prototype.select=function(t){var e,i,n,s,r;for(s=this.bindings,r=[],i=0,n=s.length;n>i;i++)e=s[i],t(e)&&r.push(e);return r},t.prototype.bind=function(){var t,e,i,n,s;for(n=this.bindings,s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(t.bind());return s},t.prototype.unbind=function(){var t,e,i,n,s;for(n=this.bindings,s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(t.unbind());return s},t.prototype.sync=function(){var t,e,i,n,s;for(n=this.bindings,s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push("function"==typeof t.sync?t.sync():void 0);return s},t.prototype.publish=function(){var t,e,i,n,s;for(n=this.select(function(t){var e;return null!=(e=t.binder)?e.publishes:void 0}),s=[],e=0,i=n.length;i>e;e++)t=n[e],s.push(t.publish());return s},t.prototype.update=function(t){var e,i,n,s,r,o,h;null==t&&(t={});for(i in t)n=t[i],this.models[i]=n;for(o=this.bindings,h=[],s=0,r=o.length;r>s;s++)e=o[s],h.push("function"==typeof e.update?e.update(t):void 0);return h},t}(),i.Binding=function(){function t(t,e,i,n,s){this.view=t,this.el=e,this.type=i,this.keypath=n,this.options=null!=s?s:{},this.getValue=o(this.getValue,this),this.update=o(this.update,this),this.unbind=o(this.unbind,this),this.bind=o(this.bind,this),this.publish=o(this.publish,this),this.sync=o(this.sync,this),this.set=o(this.set,this),this.eventHandler=o(this.eventHandler,this),this.formattedValue=o(this.formattedValue,this),this.parseTarget=o(this.parseTarget,this),this.observe=o(this.observe,this),this.setBinder=o(this.setBinder,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.formatterObservers={},this.model=void 0,this.setBinder()}return t.prototype.setBinder=function(){var t,e,i,n;if(!(this.binder=this.view.binders[this.type])){n=this.view.binders;for(t in n)i=n[t],"*"!==t&&-1!==t.indexOf("*")&&(e=new RegExp("^"+t.replace(/\*/g,".+")+"$"),e.test(this.type)&&(this.binder=i,this.args=new RegExp("^"+t.replace(/\*/g,"(.+)")+"$").exec(this.type),this.args.shift()))}return this.binder||(this.binder=this.view.binders["*"]),this.binder instanceof Function?this.binder={routine:this.binder}:void 0},t.prototype.observe=function(t,e,n){return i.sightglass(t,e,n,{root:this.view.rootInterface,adapters:this.view.adapters})},t.prototype.parseTarget=function(){var t;return t=i.TypeParser.parse(this.keypath),0===t.type?this.value=t.value:(this.observer=this.observe(this.view.models,this.keypath,this.sync),this.model=this.observer.target)},t.prototype.formattedValue=function(t){var e,n,s,r,o,u,a,l,p,c,d,f,b,v;for(v=this.formatters,r=c=0,f=v.length;f>c;r=++c){for(o=v[r],s=o.match(/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g),u=s.shift(),o=this.view.formatters[u],s=function(){var t,e,r;for(r=[],t=0,e=s.length;e>t;t++)n=s[t],r.push(i.TypeParser.parse(n));return r}(),l=[],e=d=0,b=s.length;b>d;e=++d)n=s[e],l.push(0===n.type?n.value:((p=this.formatterObservers)[r]||(p[r]={}),(a=this.formatterObservers[r][e])?void 0:(a=this.observe(this.view.models,n.value,this.sync),this.formatterObservers[r][e]=a),a.value()));(null!=o?o.read:void 0)instanceof Function?t=o.read.apply(o,[t].concat(h.call(l))):o instanceof Function&&(t=o.apply(null,[t].concat(h.call(l))))}return t},t.prototype.eventHandler=function(t){var e,i;return i=(e=this).view.handler,function(n){return i.call(t,this,n,e)}},t.prototype.set=function(t){var e;return t=t instanceof Function&&!this.binder["function"]?this.formattedValue(t.call(this.model)):this.formattedValue(t),null!=(e=this.binder.routine)?e.call(this,this.el,t):void 0},t.prototype.sync=function(){var t,e;return this.set(function(){var i,n,s,r,o,h,u;if(this.observer){if(this.model!==this.observer.target){for(o=this.dependencies,i=0,s=o.length;s>i;i++)e=o[i],e.unobserve();if(this.dependencies=[],null!=(this.model=this.observer.target)&&(null!=(h=this.options.dependencies)?h.length:void 0))for(u=this.options.dependencies,n=0,r=u.length;r>n;n++)t=u[n],e=this.observe(this.model,t,this.sync),this.dependencies.push(e)}return this.observer.value()}return this.value}.call(this))},t.prototype.publish=function(){var t,e,i,n,s,r,o,u,a;if(this.observer){for(n=this.getValue(this.el),o=this.formatters.slice(0).reverse(),s=0,r=o.length;r>s;s++)e=o[s],t=e.split(/\s+/),i=t.shift(),(null!=(u=this.view.formatters[i])?u.publish:void 0)&&(n=(a=this.view.formatters[i]).publish.apply(a,[n].concat(h.call(t))));return this.observer.setValue(n)}},t.prototype.bind=function(){var t,e,i,n,s,r,o;if(this.parseTarget(),null!=(s=this.binder.bind)&&s.call(this,this.el),null!=this.model&&(null!=(r=this.options.dependencies)?r.length:void 0))for(o=this.options.dependencies,i=0,n=o.length;n>i;i++)t=o[i],e=this.observe(this.model,t,this.sync),this.dependencies.push(e);return this.view.preloadData?this.sync():void 0},t.prototype.unbind=function(){var t,e,i,n,s,r,o,h,u,a;for(null!=(o=this.binder.unbind)&&o.call(this,this.el),null!=(h=this.observer)&&h.unobserve(),u=this.dependencies,s=0,r=u.length;r>s;s++)n=u[s],n.unobserve();this.dependencies=[],a=this.formatterObservers;for(i in a){e=a[i];for(t in e)n=e[t],n.unobserve()}return this.formatterObservers={}},t.prototype.update=function(t){var e,i;return null==t&&(t={}),this.model=null!=(e=this.observer)?e.target:void 0,null!=(i=this.binder.update)?i.call(this,t):void 0},t.prototype.getValue=function(t){return this.binder&&null!=this.binder.getValue?this.binder.getValue.call(this,t):i.Util.getInputValue(t)},t}(),i.ComponentBinding=function(t){function e(t,e,i){var n,s,r,h,u,a,p;for(this.view=t,this.el=e,this.type=i,this.unbind=o(this.unbind,this),this.bind=o(this.bind,this),this.locals=o(this.locals,this),this.component=this.view.components[this.type],this["static"]={},this.observers={},this.upstreamObservers={},s=t.bindingRegExp(),a=this.el.attributes||[],h=0,u=a.length;u>h;h++)n=a[h],s.test(n.name)||(r=this.camelCase(n.name),l.call(null!=(p=this.component["static"])?p:[],r)>=0?this["static"][r]=n.value:this.observers[r]=n.value)}return a(e,t),e.prototype.sync=function(){},e.prototype.update=function(){},e.prototype.publish=function(){},e.prototype.locals=function(){var t,e,i,n,s,r;i={},s=this["static"];for(t in s)n=s[t],i[t]=n;r=this.observers;for(t in r)e=r[t],i[t]=e.value();return i},e.prototype.camelCase=function(t){return t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})},e.prototype.bind=function(){var t,e,n,s,r,o,h,u,a,l,p,c,d,f,b,v,g,y,m,w,k;if(!this.bound){f=this.observers;for(e in f)n=f[e],this.observers[e]=this.observe(this.view.models,n,function(t){return function(e){return function(){return t.componentView.models[e]=t.observers[e].value()}}}(this).call(this,e));this.bound=!0}if(null!=this.componentView)return this.componentView.bind();for(this.el.innerHTML=this.component.template.call(this),h=this.component.initialize.call(this,this.el,this.locals()),this.el._bound=!0,o={},b=i.extensions,l=0,c=b.length;c>l;l++){if(r=b[l],o[r]={},this.component[r]){v=this.component[r];for(t in v)u=v[t],o[r][t]=u}g=this.view[r];for(t in g)u=g[t],null==(a=o[r])[t]&&(a[t]=u)}for(y=i.options,p=0,d=y.length;d>p;p++)r=y[p],o[r]=null!=(m=this.component[r])?m:this.view[r];this.componentView=new i.View(this.el,h,o),this.componentView.bind(),w=this.observers,k=[];for(e in w)s=w[e],k.push(this.upstreamObservers[e]=this.observe(this.componentView.models,e,function(t){return function(e,i){return function(){return i.setValue(t.componentView.models[e])}}}(this).call(this,e,s)));return k},e.prototype.unbind=function(){var t,e,i,n,s;i=this.upstreamObservers;for(t in i)e=i[t],e.unobserve();n=this.observers;for(t in n)e=n[t],e.unobserve();return null!=(s=this.componentView)?s.unbind.call(this):void 0},e}(i.Binding),i.TextBinding=function(t){function e(t,e,i,n,s){this.view=t,this.el=e,this.type=i,this.keypath=n,this.options=null!=s?s:{},this.sync=o(this.sync,this),this.formatters=this.options.formatters||[],this.dependencies=[],this.formatterObservers={}}return a(e,t),e.prototype.binder={routine:function(t,e){return t.data=null!=e?e:""}},e.prototype.sync=function(){return e.__super__.sync.apply(this,arguments)},e}(i.Binding),i["public"].binders.text=function(t,e){return null!=t.textContent?t.textContent=null!=e?e:"":t.innerText=null!=e?e:""},i["public"].binders.html=function(t,e){return t.innerHTML=null!=e?e:""},i["public"].binders.show=function(t,e){return t.style.display=e?"":"none"},i["public"].binders.hide=function(t,e){return t.style.display=e?"none":""},i["public"].binders.enabled=function(t,e){return t.disabled=!e},i["public"].binders.disabled=function(t,e){return t.disabled=!!e},i["public"].binders.checked={publishes:!0,priority:2e3,bind:function(t){return i.Util.bindEvent(t,"change",this.publish)},unbind:function(t){return i.Util.unbindEvent(t,"change",this.publish)},routine:function(t,e){var i;return"radio"===t.type?t.checked=(null!=(i=t.value)?i.toString():void 0)===(null!=e?e.toString():void 0):t.checked=!!e}},i["public"].binders.unchecked={publishes:!0,priority:2e3,bind:function(t){return i.Util.bindEvent(t,"change",this.publish)},unbind:function(t){return i.Util.unbindEvent(t,"change",this.publish)},routine:function(t,e){var i;return"radio"===t.type?t.checked=(null!=(i=t.value)?i.toString():void 0)!==(null!=e?e.toString():void 0):t.checked=!e}},i["public"].binders.value={publishes:!0,priority:3e3,bind:function(t){return"INPUT"!==t.tagName||"radio"!==t.type?(this.event="SELECT"===t.tagName?"change":"input",i.Util.bindEvent(t,this.event,this.publish)):void 0},unbind:function(t){return"INPUT"!==t.tagName||"radio"!==t.type?i.Util.unbindEvent(t,this.event,this.publish):void 0},routine:function(t,e){var i,n,s,r,o,h,u;if("INPUT"===t.tagName&&"radio"===t.type)return t.setAttribute("value",e);if(null!=window.jQuery){if(t=jQuery(t),(null!=e?e.toString():void 0)!==(null!=(r=t.val())?r.toString():void 0))return t.val(null!=e?e:"")}else if("select-multiple"===t.type){if(null!=e){for(u=[],n=0,s=t.length;s>n;n++)i=t[n],u.push(i.selected=(o=i.value,l.call(e,o)>=0));return u}}else if((null!=e?e.toString():void 0)!==(null!=(h=t.value)?h.toString():void 0))return t.value=null!=e?e:""}},i["public"].binders["if"]={block:!0,priority:4e3,bind:function(t){var e,i;return null==this.marker?(e=[this.view.prefix,this.type].join("-").replace("--","-"),i=t.getAttribute(e),this.marker=document.createComment(" rivets: "+this.type+" "+i+" "),this.bound=!1,t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)):void 0},unbind:function(){var t;return null!=(t=this.nested)?t.unbind():void 0},routine:function(t,e){var n,s,r,o;if(!!e==!this.bound){if(e){r={},o=this.view.models;for(n in o)s=o[n],r[n]=s;return(this.nested||(this.nested=new i.View(t,r,this.view.options()))).bind(),this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.bound=!0}return t.parentNode.removeChild(t),this.nested.unbind(),this.bound=!1}},update:function(t){var e;return null!=(e=this.nested)?e.update(t):void 0}},i["public"].binders.unless={block:!0,priority:4e3,bind:function(t){return i["public"].binders["if"].bind.call(this,t)},unbind:function(){return i["public"].binders["if"].unbind.call(this)},routine:function(t,e){return i["public"].binders["if"].routine.call(this,t,!e)},update:function(t){return i["public"].binders["if"].update.call(this,t)}},i["public"].binders["on-*"]={"function":!0,priority:1e3,unbind:function(t){return this.handler?i.Util.unbindEvent(t,this.args[0],this.handler):void 0},routine:function(t,e){return this.handler&&i.Util.unbindEvent(t,this.args[0],this.handler),i.Util.bindEvent(t,this.args[0],this.handler=this.eventHandler(e))}},i["public"].binders["each-*"]={block:!0,priority:4e3,bind:function(t){var e,i,n,s,r;if(null==this.marker)e=[this.view.prefix,this.type].join("-").replace("--","-"),this.marker=document.createComment(" rivets: "+this.type+" "),this.iterated=[],t.removeAttribute(e),t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t);else for(r=this.iterated,n=0,s=r.length;s>n;n++)i=r[n],i.bind()},unbind:function(t){var e,i,n,s,r;if(null!=this.iterated){for(s=this.iterated,r=[],i=0,n=s.length;n>i;i++)e=s[i],r.push(e.unbind());return r}},routine:function(t,e){var n,s,r,o,h,u,a,l,p,c,d,f,b,v,g,y,m,w,k,x,E;if(a=this.args[0],e=e||[],this.iterated.length>e.length)for(w=Array(this.iterated.length-e.length),f=0,g=w.length;g>f;f++)r=w[f],d=this.iterated.pop(),d.unbind(),this.marker.parentNode.removeChild(d.els[0]);for(o=b=0,y=e.length;y>b;o=++b)if(u=e[o],s={index:o},s[a]=u,null==this.iterated[o]){k=this.view.models;for(h in k)u=k[h],null==s[h]&&(s[h]=u);p=this.iterated.length?this.iterated[this.iterated.length-1].els[0]:this.marker,l=this.view.options(),l.preloadData=!0,c=t.cloneNode(!0),d=new i.View(c,s,l),d.bind(),this.iterated.push(d),this.marker.parentNode.insertBefore(c,p.nextSibling)}else this.iterated[o].models[a]!==u&&this.iterated[o].update(s);if("OPTION"===t.nodeName){for(x=this.view.bindings,E=[],v=0,m=x.length;m>v;v++)n=x[v],n.el===this.marker.parentNode&&"value"===n.type?E.push(n.sync()):E.push(void 0);return E}},update:function(t){var e,i,n,s,r,o,h,u;e={};for(i in t)n=t[i],i!==this.args[0]&&(e[i]=n);for(h=this.iterated,u=[],r=0,o=h.length;o>r;r++)s=h[r],u.push(s.update(e));return u}},i["public"].binders["class-*"]=function(t,e){var i;return i=" "+t.className+" ",!e==(-1!==i.indexOf(" "+this.args[0]+" "))?t.className=e?""+t.className+" "+this.args[0]:i.replace(" "+this.args[0]+" "," ").trim():void 0},i["public"].binders["*"]=function(t,e){return null!=e?t.setAttribute(this.type,e):t.removeAttribute(this.type)},i["public"].adapters["."]={id:"_rv",counter:0,weakmap:{},weakReference:function(t){var e,i,n;return t.hasOwnProperty(this.id)||(e=this.counter++,Object.defineProperty(t,this.id,{value:e})),(i=this.weakmap)[n=t[this.id]]||(i[n]={callbacks:{}})},cleanupWeakReference:function(t,e){return Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length?void 0:delete this.weakmap[e]},stubFunction:function(t,e){var i,n,s;return n=t[e],i=this.weakReference(t),s=this.weakmap,t[e]=function(){var e,r,o,h,u,a,l,p,c,d;h=n.apply(t,arguments),l=i.pointers;for(o in l)for(r=l[o],d=null!=(p=null!=(c=s[o])?c.callbacks[r]:void 0)?p:[],u=0,a=d.length;a>u;u++)(e=d[u])();return h}},observeMutations:function(t,e,i){var n,s,r,o,h,u;if(Array.isArray(t)){if(r=this.weakReference(t),null==r.pointers)for(r.pointers={},s=["push","pop","shift","unshift","sort","reverse","splice"],h=0,u=s.length;u>h;h++)n=s[h],this.stubFunction(t,n);if(null==(o=r.pointers)[e]&&(o[e]=[]),l.call(r.pointers[e],i)<0)return r.pointers[e].push(i)}},unobserveMutations:function(t,e,i){var n,s,r;return Array.isArray(t)&&null!=t[this.id]&&(s=this.weakmap[t[this.id]])&&(r=s.pointers[e])?((n=r.indexOf(i))>=0&&r.splice(n,1),r.length||delete s.pointers[e],this.cleanupWeakReference(s,t[this.id])):void 0},observe:function(t,e,i){var n,s,r;return n=this.weakReference(t).callbacks,null==n[e]&&(n[e]=[],s=Object.getOwnPropertyDescriptor(t,e),(null!=s?s.get:void 0)||(null!=s?s.set:void 0)||(r=t[e],Object.defineProperty(t,e,{enumerable:!0,get:function(){return r},set:function(s){return function(o){var h,u,a,p;if(o!==r&&(s.unobserveMutations(r,t[s.id],e),r=o,h=s.weakmap[t[s.id]])){if(n=h.callbacks,n[e])for(p=n[e].slice(),u=0,a=p.length;a>u;u++)i=p[u],l.call(n[e],i)>=0&&i();return s.observeMutations(o,t[s.id],e)}}}(this)}))),l.call(n[e],i)<0&&n[e].push(i),this.observeMutations(t[e],t[this.id],e)},unobserve:function(t,e,i){var n,s,r;return(r=this.weakmap[t[this.id]])&&(n=r.callbacks[e])?((s=n.indexOf(i))>=0&&(n.splice(s,1),n.length||delete r.callbacks[e]),this.unobserveMutations(t[e],t[this.id],e),this.cleanupWeakReference(r,t[this.id])):void 0},get:function(t,e){return t[e]},set:function(t,e,i){return t[e]=i}},i.factory=function(t){return i.sightglass=t,i["public"]._=i,i["public"]},"object"==typeof("undefined"!=typeof e&&null!==e?e.exports:void 0)?e.exports=i.factory(t("sightglass")):"function"==typeof define&&define.amd?define(["sightglass"],function(t){return this.rivets=i.factory(t)}):this.rivets=i.factory(sightglass)}).call(this)},{sightglass:2}],2:[function(t,e,i){(function(){function t(t,e,n,s){return new i(t,e,n,s)}function i(t,e,i,s){this.options=s||{},this.options.adapters=this.options.adapters||{},this.obj=t,this.keypath=e,this.callback=i,this.objectPath=[],this.update=this.update.bind(this),this.parse(),n(this.target=this.realize())&&this.set(!0,this.key,this.target,this.callback)}function n(t){return"object"==typeof t&&null!==t}function s(t){throw new Error("[sightglass] "+t)}t.adapters={},i.tokenize=function(t,e,i){var n,s,r=[],o={i:i,path:""};for(n=0;n<t.length;n++)s=t.charAt(n),~e.indexOf(s)?(r.push(o),o={i:s,path:""}):o.path+=s;return r.push(o),r},i.prototype.parse=function(){var e,n,r=this.interfaces();r.length||s("Must define at least one adapter interface."),~r.indexOf(this.keypath[0])?(e=this.keypath[0],n=this.keypath.substr(1)):("undefined"==typeof(e=this.options.root||t.root)&&s("Must define a default root adapter."),n=this.keypath),this.tokens=i.tokenize(n,r,e),this.key=this.tokens.pop()},i.prototype.realize=function(){var t,e=this.obj,i=!1;return this.tokens.forEach(function(s,r){n(e)?("undefined"!=typeof this.objectPath[r]?e!==(t=this.objectPath[r])&&(this.set(!1,s,t,this.update),this.set(!0,s,e,this.update),this.objectPath[r]=e):(this.set(!0,s,e,this.update),this.objectPath[r]=e),e=this.get(s,e)):(i===!1&&(i=r),(t=this.objectPath[r])&&this.set(!1,s,t,this.update))},this),i!==!1&&this.objectPath.splice(i),e},i.prototype.update=function(){var t,e;(t=this.realize())!==this.target&&(n(this.target)&&this.set(!1,this.key,this.target,this.callback),n(t)&&this.set(!0,this.key,t,this.callback),e=this.value(),this.target=t,this.value()!==e&&this.callback())},i.prototype.value=function(){return n(this.target)?this.get(this.key,this.target):void 0},i.prototype.setValue=function(t){n(this.target)&&this.adapter(this.key).set(this.target,this.key.path,t)},i.prototype.get=function(t,e){return this.adapter(t).get(e,t.path)},i.prototype.set=function(t,e,i,n){var s=t?"observe":"unobserve";this.adapter(e)[s](i,e.path,n)},i.prototype.interfaces=function(){var e=Object.keys(this.options.adapters);return Object.keys(t.adapters).forEach(function(t){~e.indexOf(t)||e.push(t)}),e},i.prototype.adapter=function(e){return this.options.adapters[e.i]||t.adapters[e.i]},i.prototype.unobserve=function(){var t;this.tokens.forEach(function(e,i){(t=this.objectPath[i])&&this.set(!1,e,t,this.update)},this),n(this.target)&&this.set(!1,this.key,this.target,this.callback)},"undefined"!=typeof e&&e.exports?e.exports=t:"function"==typeof define&&define.amd?define([],function(){return this.sightglass=t}):this.sightglass=t}).call(this)},{}],3:[function(t,e,i){function n(t){var e=t.split(/\r?\n/);return e}function s(){var t=new Date,e=[];return e[0]="January",e[1]="February",e[2]="March",e[3]="April",e[4]="May",e[5]="June",e[6]="July",e[7]="August",e[8]="September",e[9]="October",e[10]="November",e[11]="December",e[t.getMonth()]+" "+t.getDay()}var r,o=t("rivets"),h=t("./pt.json"),u=t("./en.json"),a="en",l="local",p={},c="http://54.213.20.132/data.json";p.strings=u,p.date=s(),p.langEn=!0,p.searchLocal=!0,p.searchGlobal=!1,o.bind(document.getElementById("app.07fc6e4d"),p),document.getElementById("en").addEventListener("click",function(t){p.langEn=!0,p.langPt=!1,a="en",p.strings=u,p.questions=n(r[0][a+"_"+l])}),document.getElementById("pt").addEventListener("click",function(t){p.langPt=!0,p.langEn=!1,a="pt",p.strings=h,p.questions=n(r[0][a+"_"+l])}),document.getElementById("local").addEventListener("click",function(t){p.searchLocal=!0,p.searchGlobal=!1,l="local",p.questions=n(r[0][a+"_"+l])}),document.getElementById("global").addEventListener("click",function(t){p.searchLocal=!1,p.searchGlobal=!0,l="global",p.questions=n(r[0][a+"_"+l])});var d=new XMLHttpRequest;d.open("GET",c,!0),d.onload=function(){d.status>=200&&d.status<400&&(r=JSON.parse(d.responseText),p.questions=n(r[0][a+"_"+l]))},d.send(),o.formatters.google=function(t){return"https://www.google.com/search?q="+t},document.getElementById("twitter-share").addEventListener("click",function(t){"en"===a?shareText=u.twitter_share_text:shareText=h.twitter_share_text;var e="http://googletrends.github.io/olympic-torch/",i=550,n=300,s=screen.height/2-n/2,r=screen.width/2-i/2,o="http://twitter.com/share?text="+shareText+"&url="+encodeURI(e);window.open(o,"twitter","height="+n+",width="+i+",top="+s+",left="+r+",resizable=1")}),document.getElementById("facebook-share").addEventListener("click",function(t){var e="http://googletrends.github.io/olympic-torch/",i=600,n=400,s=screen.height/2-n/2,r=screen.width/2-i/2,o="https://www.facebook.com/sharer/sharer.php?u="+encodeURI(e);window.open(o,"facebook","height="+n+",width="+i+",top="+s+",left="+r+",resizable=1")})},{"./en.json":4,"./pt.json":5,rivets:1}],4:[function(t,e,i){e.exports={header_english:"English",header_portugese:"Portugese",where_is_the_olympic_torch:"Where is the Olympic Torch?",today:"Today",top_olympic_searches:"Top Olympic Searches",brazil:"Brazil",world:"World",footer:"Made with ♥ by Unicorn Interactive",may:"May",june:"June",july:"July",august:"August",embed:"Embed",subhead:"Explore realtime Google trends as the Olympic torch travels across Brazil",twitter_share_text:"Follow the %23olympic torch with this interactive from @GoogleTrends"}},{}],5:[function(t,e,i){e.exports={header_english:"Inglês",header_portugese:"Português",where_is_the_olympic_torch:"Onde está a tocha olímpica?",today:"Hoje",top_olympic_searches:"Histórias mais procuradas sobre os jogos olímpicos",brazil:"Brasil",world:"Mundo",footer:"Feito com ♥ por Unicorn Interactive",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",embed:"Partilhar",subhead:"Explore em tempo real as tendências do Google enquanto a tocha olímpica percorre todo o Brasil",twitter_share_text:"Siga a tocha %23olympica com este interativo de @GoogleTrends"}},{}]},{},[3]);